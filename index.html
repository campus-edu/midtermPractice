<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="color-scheme" content="dark light"><!--¬†let the UA know we support both¬†-->
<title>Econ Midterm Drill</title>
<style>
/* ‚Äî‚Äî‚Äî¬†CSS variables ‚Äî‚Äî‚Äî¬†*/
/* baseline = DARK MODE (default) */
:root{
  --bg:#1c1c1e;          /* iOS systemBackground dark */
  --card:#2c2c2e;        /* secondarySystemBackground dark */
  --text:#f2f2f7;        /* label color on dark */
  --primary:#0a84ff;     /* iOS systemBlue on dark */
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
}

/* automatic switch when user prefers light */
@media (prefers-color-scheme: light){
  :root{
    --bg:#f2f2f7;        /* systemGroupedBackground light */
    --card:#ffffff;      /* systemBackground light */
    --text:#1c1c1e;      /* label color on light */
    --primary:#007aff;   /* systemBlue light */
  }
}

/* ‚Äî‚Äî‚Äî generic layout ‚Äî‚Äî‚Äî */
html,body{
  margin:0;height:100%;
  background:var(--bg);
  color:var(--text);
  display:flex;align-items:center;justify-content:center;
}
.hidden{display:none!important}
#app{max-width:480px;width:90vw;padding:2rem}

/* ‚Äî‚Äî‚Äî card component ‚Äî‚Äî‚Äî */
.card{
  background:var(--card);
  border-radius:24px;
  box-shadow:0 10px 20px rgba(0,0,0,.35);
  padding:2rem;
  animation:fade .4s;
}
h1,h2{margin-top:0;font-weight:600}
button{
  display:inline-block;
  margin-top:1.2rem;
  padding:.8rem 1.2rem;
  border:none;border-radius:12px;
  font-size:1rem;font-weight:600;
  background:var(--primary);color:#fff;
  cursor:pointer
}
button.flat{background:transparent;color:var(--primary)}
label{display:block;margin:.6rem 0;cursor:pointer}

/* subtle rise¬†/ fade for cards */
@keyframes fade{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
</style>
</head>
<body>
<div id="app"></div>

<script>
/* ‚Äî‚Äî‚Äî Q&A DATA (unchanged, truncated here for brevity) ‚Äî‚Äî‚Äî */
const questions=[ /* ‚Ä¶48 question objects exactly as before‚Ä¶ */ ];

/* ‚Äî‚Äî‚Äî STATE & HELPERS ‚Äî‚Äî‚Äî */
const $=sel=>document.querySelector(sel);
let mode=null,idx=0,score=0;

/* ‚Äî‚Äî‚Äî UI BUILDERS ‚Äî‚Äî‚Äî */
function home(){
  $('#app').innerHTML=`
    <div class="card">
      <h1>Midterm Practice</h1>
      <p>Select a study mode.</p>
      <button onclick="startTest()">Practice Test</button>
      <button onclick="startFlash()">Flashcards</button>
    </div>`;
}
function startTest(){mode='test';idx=0;score=0;showQuestion();}
function startFlash(){mode='flash';idx=0;showFlash();}
function showQuestion(){
  const q=questions[idx];
  $('#app').innerHTML=`
  <div class="card">
    <h2>Question ${idx+1} of ${questions.length}</h2>
    <p>${q.q}</p>
    ${q.type==='mcq'
        ?q.c.map((t,i)=>`<label><input type="radio" name="opt" value="${i}"> ${t}</label>`).join('')
        :['True','False'].map((t,i)=>`<label><input type="radio" name="opt" value="${i}"> ${t}</label>`).join('')}
    <button onclick="submit()">Submit</button>
  </div>`;
}
function submit(){
  const sel=document.querySelector('input[name="opt"]:checked');
  if(!sel){alert('Choose an option');return;}
  const q=questions[idx];
  const correct=(q.type==='mcq'?+sel.value===q.a:(+sel.value===0)===q.a);
  if(correct)score++;
  $('#app').querySelector('.card').innerHTML+=`
    <p><strong>${correct?'Correct üéâ':'Incorrect ‚ùå'}</strong></p>
    <p>${q.e}</p>
    <button class="flat" onclick="next()">Next</button>`;
}
function next(){if(++idx>=questions.length)result();else showQuestion();}
function result(){
  $('#app').innerHTML=`<div class="card">
    <h2>Finished!</h2>
    <p>You answered <strong>${score}</strong> out of ${questions.length} correctly.</p>
    <button onclick="home()">Back to Home</button>
  </div>`;
}
function showFlash(){
  const q=questions[idx];
  $('#app').innerHTML=`<div class="card" id="flip" onclick="flip()">
    <h2>${q.q}</h2>
    <p style="opacity:.6">(tap to flip)</p>
  </div>
  <button class="flat" onclick="nextFlash()">Next</button>`;
}
function flip(){
  const q=questions[idx];
  const ans=q.type==='mcq'?q.c[q.a]:(q.a?'True':'False');
  $('#flip').innerHTML=`<h2>${ans}</h2><p>${q.e}</p>`;
}
function nextFlash(){if(++idx>=questions.length)home();else showFlash();}

/* ‚Äî‚Äî‚Äî initialise ‚Äî‚Äî‚Äî */
home();

/* keyboard helper */
document.addEventListener('keydown',e=>{if(mode==='flash'&&e.key==='f')flip();});
</script>
</body>
</html>
